@prefix rml: <http://semweb.mmlab.be/ns/rml#>.
@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix CSS: <http://www.w3id.org/hsu-aut/css#> .
@prefix CaSk: <http://www.w3id.org/hsu-aut/cask#> .
@prefix CaSkMan: <http://www.w3id.org/hsu-aut/caskman#> .
@prefix OPCUA: <http://www.hsu-ifa.de/ontologies/OpcUa#>.
@prefix ISA88: <http://www.hsu-ifa.de/ontologies/ISA-TR88#>.
@prefix DINEN61360: <http://www.hsu-ifa.de/ontologies/DINEN61360#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix : <http://www.hsu-hht.de/aut/PLC2Skill#>.
@prefix ql: <http://semweb.mmlab.be/ns/ql#>.

# Definition of capabilities and connection to skill
 :CapabilityDefinition a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
    ];

    rr:subjectMap [
        rr:template "#{@name}_Capability";
        rr:class CaSk:ProvidedCapability;
    ];
	
    rr:predicateObjectMap[
        rr:predicate CSS:isRealizedBySkill;
        rr:objectMap[
            rr:template "#{@name}";
            rr:class CaSkMan:PlcSkill;
        ]
    ].

# Definition of PLC-Skills
 :SkillDefinition a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
    ];

    rr:subjectMap [
        rr:template "#{@name}";
        rr:class CaSkMan:PlcSkill;
    ];
	
	rr:predicateObjectMap[
        rr:predicate CaSkMan:accessibleThroughOpcUaVariableInterface;
        rr:objectMap[
            rr:template "#{@name}_Interface";
            rr:clas CaSkMan:OpcUaVariableSkillInterface;
        ]
    ];
    rr:predicateObjectMap[
        rr:predicate CaSk:hasCurrentState;
        rr:objectMap[
            rr:template "#{@name}_StateMachine_Idle";
            rr:class ISA88:Idle;
        ]
    ].
	
# Skill Interface
:SkillInterfaceDefinition a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
	];

    rr:subjectMap [
        rr:template "#{@name}_Interface";
        rr:class CaSkMan:OpcUaVariableSkillInterface;
    ];
	
	rr:predicateObjectMap[
        rr:predicate OPCUA:nodeId;
        rr:objectMap[
            rr:template "__NodeIdRootComponent__.{./ancestor::resource/task/pouInstance/@name}.{@name}";
            rr:datatype xsd:string;
        ]
    ];
	
	rr:predicateObjectMap [
        rr:predicate CaSk:exposesSkillParameter, OPCUA:organizes;
        rr:objectMap [
            rr:template "#{@name}_SkillParameter_{./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/interface/inputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/@name}";
            rr:class OPCUA:UAVariable, CSS:SkillParameter;
		]
	];
	
	# Interfaces exposes state machine
	rr:predicateObjectMap[
        rr:predicate CaSk:exposesStateMachine;
        rr:objectMap[
            rr:template "#{@name}_StateMachine";
            rr:class ISA88:StateMachine
        ]
    ];
	
	# Interfaces organizes UA Node of current state output
	rr:predicateObjectMap[
        rr:predicate OPCUA:organizes;
        rr:objectMap[
            rr:template "#{@name}_CurrentStateOutput";
            rr:class OPCUA:UAVariable, DINEN61360:Instance_Description
        ]
    ];
		
    rr:predicateObjectMap [
        rr:predicate CaSk:exposesSkillParameter, OPCUA:organizes;
        rr:objectMap [
            rr:template "#{@name}_SkillOutput_{./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/interface/outputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/@name}";
            rr:class OPCUA:UAVariable, CaSk:SkillOutput; 
		]
    ].

# Skill has SkillParameters and SkillOutputs
:SkillToSkillParametersOutputs a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
		];
		
    rr:subjectMap [
        rr:template "#{@name}";
        rr:class CaSkMan:PlcSkill;
    ];
    
	rr:predicateObjectMap [
	rr:predicate CSS:hasParameter;
	rr:objectMap [
		rr:template "#{@name}_SkillParameter_{./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/interface/inputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/@name}";
		rr:class CSS:SkillParameter;
			]
	];
	
	rr:predicateObjectMap [
	rr:predicate CaSk:hasSkillOutput;
	rr:objectMap [
		rr:template "#{@name}_SkillOutput_{./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/interface/outputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/@name}";
		rr:class CaSk:SkillOutput; 
			]
	].
        

 # SkillParameter Definition 
:SkillParameters a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
		];
		
    rr:subjectMap [
        rr:template "#{@name}_SkillParameter_{let $skillName:=./type/derived/@name return //configurations/configuration/resource/addData/data/pou[@name=$skillName]/interface/inputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/@name}";
        rr:class CSS:SkillParameter, OPCUA:UAVariable;
    ];
	rr:predicateObjectMap [
	rr:predicate OPCUA:nodeId;
	rr:objectMap [
		rr:template "__NodeIdRootComponent__.{./ancestor::resource/task/pouInstance/@name}.{@name}.{let $skillName:=./type/derived/@name return //configurations/configuration/resource/addData/data/pou[@name=$skillName]/interface/inputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/@name}.value";
		rr:datatype xsd:string; 
			]
	];
	rr:predicateObjectMap [
	rr:predicate CaSk:hasDefaultValue; 
	rr:objectMap [
		rr:template "{let $skillName:=./type/derived/@name return //configurations/configuration/resource/addData/data/pou[@name=$skillName]/interface/inputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/initialValue/structValue/value[@member='default']/simpleValue/@value}";
		rr:datatype xsd:string; 
			]
	];
	rr:predicateObjectMap [
	rr:predicate CaSk:hasVariableName; 
	rr:objectMap [
		rr:template "{let $skillName:=./type/derived/@name return //configurations/configuration/resource/addData/data/pou[@name=$skillName]/interface/inputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/initialValue/structValue/value[@member='name']/simpleValue/@value}";
		rr:datatype xsd:string; 
			]
	];
	rr:predicateObjectMap [
	rr:predicate CaSk:hasVariableType; 
	rr:objectMap [
		rr:template "{let $skillName:=./type/derived/@name return //configurations/configuration/resource/addData/data/pou[@name=$skillName]/interface/inputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/initialValue/structValue/value[@member='paramType']/simpleValue/@value}";
		rr:datatype xsd:string; 
			]
	];
	rr:predicateObjectMap [
	rr:predicate CaSk:isRequired; 
	rr:objectMap [
		rr:template "{let $skillName:=./type/derived/@name return //configurations/configuration/resource/addData/data/pou[@name=$skillName]/interface/inputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/initialValue/structValue/value[@member='required']/simpleValue/@value}";
		rr:datatype xsd:boolean; 
			]
	].

#Definition SkillOutput
:SkillOutput a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
	];
			
    rr:subjectMap [
        rr:template "#{@name}_SkillOutput_{let $skillName:=./type/derived/@name return //configurations/configuration/resource/addData/data/pou[@name=$skillName]/interface/outputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/@name}";
        rr:class CaSk:SkillOutput, OPCUA:UAVariable;
    ];
	
	rr:predicateObjectMap [
	rr:predicate OPCUA:nodeId;
	rr:objectMap [
		rr:template "__NodeIdRootComponent__.{./ancestor::resource/task/pouInstance/@name}.{@name}.{let $skillName:=./type/derived/@name return //configurations/configuration/resource/addData/data/pou[@name=$skillName]/interface/outputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/@name}.value";
		rr:datatype xsd:string; 
			]
	];
	rr:predicateObjectMap [
	rr:predicate CaSk:hasDefaultValue; 
	rr:objectMap [
		rr:template "{let $skillName:=./type/derived/@name return //configurations/configuration/resource/addData/data/pou[@name=$skillName]/interface/outputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/initialValue/structValue/value[@member='default']/simpleValue/@value}";
		rr:datatype xsd:string; 
			]
	];
	rr:predicateObjectMap [
	rr:predicate CaSk:hasVariableName; 
	rr:objectMap [
		rr:template "{let $skillName:=./type/derived/@name return //configurations/configuration/resource/addData/data/pou[@name=$skillName]/interface/outputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/initialValue/structValue/value[@member='name']/simpleValue/@value}";
		rr:datatype xsd:string; 
			]
	];
	rr:predicateObjectMap [
	rr:predicate CaSk:hasVariableType; 
	rr:objectMap [
		rr:template "{let $skillName:=./type/derived/@name return //configuration/resource/addData/data/pou[@name=$skillName]/interface/outputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/initialValue/structValue/value[@member='paramType']/simpleValue/@value}";
		rr:datatype xsd:string; 
			]
	];
	rr:predicateObjectMap [
	rr:predicate CaSk:isRequired; 
	rr:objectMap [
		rr:template "{let $skillName:=./type/derived/@name return //configurations/configuration/resource/addData/data/pou[@name=$skillName]/interface/outputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/initialValue/structValue/value[@member='required']/simpleValue/@value}";
		rr:datatype xsd:boolean; 
			]
	].

# Skill has ISA88-StateMachine and current State Output
:SkillStatesStateMachine a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}";
        rr:class CaSkMan:PlcSkill;
    ];

	rr:predicateObjectMap[
        rr:predicate CSS:behaviorConformsTo;
        rr:objectMap[
            rr:template "#{@name}_StateMachine";
            rr:class ISA88:StateMachine
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate CaSk:hasCurrentStateOutput;
        rr:objectMap[
            rr:template "#{@name}_CurrentStateOutput";
            rr:class CaSk:CurrentStateOutput
        ]
    ].
 
# CurrentStateOutput Definition
:CurrentStateOutput a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput";
        rr:class CaSk:CurrentStateOutput, OPCUA:UAVariable, DINEN61360:Instance_Description ;
    ];
	
	rr:predicateObjectMap [
		rr:predicate OPCUA:nodeId;
		rr:objectMap [
			rr:template "__NodeIdRootComponent__.{./ancestor::resource/task/pouInstance/@name}.{@name}.currentState";	# Node ID defined by the current FB
			rr:datatype xsd:string; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:Expression_Goal;
		rr:objectMap [
			rr:template "ActualValue";
			rr:datatype xsd:string; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Idle_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Starting_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
	
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Execute_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Holding_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Unholding_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Held_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Completing_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Complete_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Aborting_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Aborted_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Clearing_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Stopping_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Stopped_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Resetting_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Suspending_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Suspended_DE";
			rr:class DINEN61360:Data_Element; 
			]
		];
		
	rr:predicateObjectMap [
		rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
		rr:objectMap [
			rr:template "#{@name}_CurrentStateOutput_Unsuspending_DE";
			rr:class DINEN61360:Data_Element; 
			]
		].
		
#Connection ISA88 State to Data Element
:IdleISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Idle";
        rr:class ISA88:Idle;
    ]; 
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Idle_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].
:StartingISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Starting";
        rr:class ISA88:Starting;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Starting_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].

:ExecuteISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Execute";
        rr:class ISA88:Execute;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Execute_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].

:CompletingISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Completing";
        rr:class ISA88:Completing;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Completing_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].
:CompleteISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Complete";
        rr:class ISA88:Complete;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Complete_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].

:ResettingISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Resetting";
        rr:class ISA88:Resetting;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Resetting_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].
:HoldingISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Holding";
        rr:class ISA88:Holding;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Holding_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].
:HeldISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Held";
        rr:class ISA88:Held;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Held_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].
:UnholdingISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Unholding";
        rr:class ISA88:Unholding;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Unholding_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].
:SuspendingISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Suspending";
        rr:class ISA88:Suspending;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Suspending_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].
:SuspendedISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Suspended";
        rr:class ISA88:Suspended;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Suspended_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].
:UnsuspendingISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Unsuspending";
        rr:class ISA88:Unsuspending;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Unsuspending_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].
:StoppingISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Stopping";
        rr:class ISA88:Stopping;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Stopping_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].

:StoppedISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Stopped";
        rr:class ISA88:Stopped;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Stopped_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].

:AbortingISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Aborting";
        rr:class ISA88:Aborting;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Aborting_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].

:AbortedISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Aborted";
        rr:class ISA88:Aborted;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Aborted_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].
:ClearingISADE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StateMachine_Clearing";
        rr:class ISA88:Clearing;
    ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap [
            rr:template "#{@name}_CurrentStateOutput_Clearing_DE";
            rr:class DINEN61360:Data_Element; 
                ]
        ].      

#DataElement Definition of StateOutput Idle
:IdleOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Idle_DE";
        rr:class DINEN61360:Data_Element;
    ];
     rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];

        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Idle";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].
       

#DataElement Definition of StateOutput Starting
:StartingOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Starting_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Starting";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Execute
:ExecuteOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Execute_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Execute";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].        

#DataElement Definition of StateOutput Holding
:HoldingOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Holding_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Holding";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Held
:HeldOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Held_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Held";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].        

#DataElement Definition of StateOutput Unholding
:UnholdingOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Unholding_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Unholding";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Suspending
:SuspendingOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Suspending_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Suspending";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Suspended
:SuspendedOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Suspended_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Suspended";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Unsuspending
:UnsuspendingOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Unsuspending_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Unsuspending";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Completing
:CompletingOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Completing_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Completing";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Complete
:CompleteOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Complete_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Complete";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Resetting
:ResettingOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Resetting_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Resetting";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Aborting
:AbortingOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Aborting_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Aborting";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Aborted
:AbortedOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Aborted_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Aborted";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Clearing
:ClearingOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Clearing_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Clearing";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Stopping
:StoppingOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Stopping_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Stopping";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

#DataElement Definition of StateOutput Stopped
:StoppedOutput_DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_CurrentStateOutput_Stopped_DE";
        rr:class DINEN61360:Data_Element;
    ];
    rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/cask#CurrentStateOutput_TD";
            rr:class DINEN61360:Type_Description; 
                ]
        ];
        rr:predicateObjectMap [
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap [
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_CurrentState_Stopped";
            rr:class DINEN61360:Instance_Description; 
                ]
        ].

# Skill has SkillCommand
:SkillToSkillCommand a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}";
        rr:class CaSkMan:PlcSkill;
    ];

        rr:predicateObjectMap[
        rr:predicate CaSk:hasSkillCommand;
        rr:objectMap[
            rr:template "#{@name}_SkillCommand";
            rr:class CaSk:SkillCommand, DINEN61360:Instance_Description;
        ]
    ].
	
# SkillInterface exposes SkillCommand
:SkillInterfaceToSkillCommand a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_Interface";
        rr:class CaSkMan:OpcUaVariableSkillInterface;
    ];

        rr:predicateObjectMap[
        rr:predicate CaSk:exposesSkillParameter, OPCUA:organizes;
        rr:objectMap[
            rr:template "#{@name}_SkillCommand";
            rr:class CaSk:SkillCommand, OPCUA:UAVariable, DINEN61360:Instance_Description;
        ]
    ].

# SkillCommand Definition
:SkillCommandDefinition a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_SkillCommand";
        rr:class CaSk:SkillCommand, OPCUA:UAVariable, DINEN61360:Instance_Description;
    ];
        rr:predicateObjectMap[
        rr:predicate OPCUA:nodeId;
        rr:objectMap[
            rr:template "__NodeIdRootComponent__.{./ancestor::resource/task/pouInstance/@name}.{@name}.transition";	# Node ID defined by the current FB
            rr:datatype xsd:string
        ]
        
    ];
     rr:predicateObjectMap [
        rr:predicate DINEN61360:Expression_Goal;
        rr:objectMap [
            rr:template "ActualValue";
            rr:datatype xsd:string; 
                ]
        ];

    rr:predicateObjectMap[
        rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_StartCommand_DE";
            rr:class DINEN61360:Data_Element
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_HoldCommand_DE";
            rr:class DINEN61360:Data_Element
        ]
    ];
    
        rr:predicateObjectMap[
        rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_UnholdCommand_DE";
            rr:class DINEN61360:Data_Element
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_SuspendCommand_DE";
            rr:class DINEN61360:Data_Element
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_UnsuspendCommand_DE";
            rr:class DINEN61360:Data_Element
        ]
    ];
    
        rr:predicateObjectMap[
        rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_ResetCommand_DE";
            rr:class DINEN61360:Data_Element
        ]
    ];
    
        rr:predicateObjectMap[
        rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_StopCommand_DE";
            rr:class DINEN61360:Data_Element
        ]
    ];
    
        rr:predicateObjectMap[
        rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_AbortCommand_DE";
            rr:class DINEN61360:Data_Element
        ]
    ];
    
        rr:predicateObjectMap[
        rr:predicate DINEN61360:is_Instance_Description_of_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_ClearCommand_DE";
            rr:class DINEN61360:Data_Element
        ]
    ].

#Definition of Data Elements for Commands

:StartCommandDE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StartCommand_DE";
        rr:class OPCUA:UAVariable;
    ];
    rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/cask#SkillCommandVariable_TD";
            rr:class DINEN61360:Type_Description; 
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_Command_Start";
            rr:class DINEN61360:Instance_Description; 
        ]
    ].

:HoldCommandDE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_HoldCommand_DE";
        rr:class OPCUA:UAVariable;
    ];
      rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/cask#SkillCommandVariable_TD";
            rr:class DINEN61360:Type_Description; 
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_Command_Hold";
            rr:class DINEN61360:Instance_Description; 
        ]
    ].

:UnholdCommandDE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_UnholdCommand_DE";
        rr:class OPCUA:UAVariable;
    ];
      rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/cask#SkillCommandVariable_TD";
            rr:class DINEN61360:Type_Description; 
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_Command_Unhold";
            rr:class DINEN61360:Instance_Description; 
        ]
    ].

:SuspendCommandDE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_SuspendCommand_DE";
        rr:class OPCUA:UAVariable;
    ];
      rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/cask#SkillCommandVariable_TD";
            rr:class DINEN61360:Type_Description; 
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_Command_Suspend";
            rr:class DINEN61360:Instance_Description; 
        ]
    ].

:UnsuspendCommandDE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_UnsuspendCommand_DE";
        rr:class OPCUA:UAVariable;
    ];
    rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/cask#SkillCommandVariable_TD";
            rr:class DINEN61360:Type_Description; 
        ]
    ];
    rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_Command_Unsuspend";
            rr:class DINEN61360:Instance_Description; 
        ]
    ].

:ResetCommandDE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_ResetCommand_DE";
        rr:class OPCUA:UAVariable;
    ];
      rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/cask#SkillCommandVariable_TD";
            rr:class DINEN61360:Type_Description; 
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_Command_Reset";
            rr:class DINEN61360:Instance_Description; 
        ]
    ].

:AbortCommandDE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_AbortCommand_DE";
        rr:class OPCUA:UAVariable;
    ];
      rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/cask#SkillCommandVariable_TD";
            rr:class DINEN61360:Type_Description; 
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_Command_Abort";    
            rr:class DINEN61360:Instance_Description; 
        ]
    ].

:ClearCommandDE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_ClearCommand_DE";
        rr:class OPCUA:UAVariable;
    ];
      rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/cask#SkillCommandVariable_TD";
            rr:class DINEN61360:Type_Description; 
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_Command_Clear";
            rr:class DINEN61360:Instance_Description; 
        ]
    ].

:StopCommandDE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];
    rr:subjectMap [
        rr:template "#{@name}_StopCommand_DE";
        rr:class OPCUA:UAVariable;
    ];
      rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Type_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/cask#SkillCommandVariable_TD";
            rr:class DINEN61360:Type_Description; 
        ]
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Instance_Description;
        rr:objectMap[
            rr:template "http://www.w3id.org/hsu-aut/caskman#PLC2Skill_Command_Stop";
            rr:class DINEN61360:Instance_Description; 
        ]
    ].
    
#Connection ISA88Command to DE
:StartISA88DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];

    rr:subjectMap [
        rr:template "#{@name}_StateMachine_StartCommand";
        rr:class ISA88:StartCommand;
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_StartCommand_DE";
            rr:class DINEN61360:Data_Element;
        ]
    ].
:ResetISA88DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];

    rr:subjectMap [
        rr:template "#{@name}_StateMachine_ResetCommand";
        rr:class ISA88:ResetCommand;
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_ResetCommand_DE";
            rr:class DINEN61360:Data_Element;
        ]
    ].
 :HoldISA88DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];

    rr:subjectMap [
        rr:template "#{@name}_StateMachine_HoldCommand";
        rr:class ISA88:HoldCommand;
    ];
    rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_HoldCommand_DE";
            rr:class DINEN61360:Data_Element;
        ]
    ].
	
:UnHoldISA88DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];

    rr:subjectMap [
        rr:template "#{@name}_StateMachine_UnholdCommand";
        rr:class ISA88:UnholdCommand;
    ];
    rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_UnholdCommand_DE";
            rr:class DINEN61360:Data_Element;
        ]
    ].
  
 :SuspendISA88DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];

    rr:subjectMap [
        rr:template "#{@name}_StateMachine_SuspendCommand";
        rr:class ISA88:SuspendCommand;
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_SuspendCommand_DE";
            rr:class DINEN61360:Data_Element;
        ]
    ].
	
 :UnsuspendISA88DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];

    rr:subjectMap [
        rr:template "#{@name}_StateMachine_UnsuspendCommand";
        rr:class ISA88:UnsuspendCommand;
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_UnsuspendCommand_DE";
            rr:class DINEN61360:Data_Element;
        ]
    ].
	
 :ClearISA88DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];

    rr:subjectMap [
        rr:template "#{@name}_StateMachine_ClearCommand";
        rr:class ISA88:ClearCommand;
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_ClearCommand_DE";
            rr:class DINEN61360:Data_Element;
        ]
    ].
	
 :StopISA88DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];

    rr:subjectMap [
        rr:template "#{@name}_StateMachine_StartCommand";
        rr:class ISA88:StopCommand;
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_StopCommand_DE";
            rr:class DINEN61360:Data_Element;
        ]
    ].
 :AbortISA88DE a rr:TriplesMap;
    rml:logicalSource[
        rml:source "${XMLFileToMap}";
        rml:referenceFormulation ql:XPath;
        rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"
            ];

    rr:subjectMap [
        rr:template "#{@name}_StateMachine_AbortCommand";
        rr:class ISA88:AbortCommand;
    ];
        rr:predicateObjectMap[
        rr:predicate DINEN61360:has_Data_Element;
        rr:objectMap[
            rr:template "#{@name}_AbortCommand_DE";
            rr:class DINEN61360:Data_Element;
        ]
    ].
 


#Definition OPC-UA-Server
:OPCUAServer a rr:TriplesMap;
	rml:logicalSource [
		rml:source "${XMLFileToMap}";
		rml:referenceFormulation ql:XPath;
		rml:iterator "./project/instances/configurations/configuration"];

	rr:subjectMap [
		rr:template "#{@name}_OPCUAServer";
		rr:class OPCUA:UAServer
	];	
  

  	rr:predicateObjectMap [
		rr:predicate OPCUA:hasNodeSet;
		rr:objectMap [
		rr:template "#{@name}_OPCUANodeSet";
		rr:class OPCUA:UANodeSet
	]];
	
	rr:predicateObjectMap [
		rr:predicate OPCUA:hasEndpointUrl;
		rr:objectMap [   
		rr:template "__ServerEndpointUrl__";
		rr:datatype xsd:string
	]];	
	
	rr:predicateObjectMap [
		rr:predicate OPCUA:hasSecurityPolicy;
		rr:objectMap [
		rr:template "http://www.hsu-ifa.de/ontologies/OpcUa#SecurityPolicy_None";
		rr:class OPCUA:SecurityPolicy
	]];
	
	rr:predicateObjectMap [
		rr:predicate OPCUA:hasMessageSecurityMode;
		rr:objectMap [
		rr:template "http://www.hsu-ifa.de/ontologies/OpcUa#MessageSecurityMode_None";
		rr:class OPCUA:MessageSecurityMode
	]].

#Definition of Nodes of the Nodeset
:OPCUANodeSet a rr:TriplesMap;
	rml:logicalSource [
		rml:source "${XMLFileToMap}";
		rml:referenceFormulation ql:XPath;
		rml:iterator "./project/instances/configurations/configuration/resource/addData/data/pou/interface/localVars/variable[./type/derived/@name=./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/@name]"];

	rr:subjectMap [
		rr:template "#{./ancestor::project/instances/configurations/configuration/@name}_OPCUANodeSet";
		rr:class OPCUA:UANodeSet
	];

	#Node Skill-Interface  
  	rr:predicateObjectMap [
		rr:predicate OPCUA:containsNode, OPCUA:organizes;
		rr:objectMap [
		rr:template "#{@name}_Interface";
		rr:class OPCUA:UAObject
	]];	
  
	#Node SkillParameter
  	rr:predicateObjectMap [
		rr:predicate OPCUA:containsNode, OPCUA:organizes;
		rr:objectMap [
		rr:template "#{@name}_SkillParameter_{./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/interface/inputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/@name}";
		rr:class OPCUA:UAVariable
	]];

	#Node SkillOutput
  	rr:predicateObjectMap [
		rr:predicate OPCUA:containsNode, OPCUA:organizes;
		rr:objectMap [
		rr:template "#{@name}_SkillOutput_{./ancestor::addData/data/pou[./interface/addData/data/Inheritance/Extends='PLC2Skill.Skill']/interface/outputVars/variable[./type/derived/@name='PLC2Skill.SkillParameter']/@name}";
		rr:class OPCUA:UAVariable
	]];

	#Node CurrentStateOutput
  	rr:predicateObjectMap [
		rr:predicate OPCUA:containsNode, OPCUA:organizes;
		rr:objectMap [
		rr:template "#{@name}_CurrentStateOutput";
		rr:class OPCUA:UAVariable
	]];
	
	#Node SkillCommand
  	rr:predicateObjectMap [
		rr:predicate OPCUA:containsNode, OPCUA:organizes;
		rr:objectMap [
		rr:template "#{@name}_SkillCommand";
		rr:class OPCUA:UAVariable
	]].